"use strict";(self.webpackChunkhidinginplainsight=self.webpackChunkhidinginplainsight||[]).push([[654],{131:(t,e,s)=>{var n=s(94),a=s.n(n),o=s(345),i=s(398),r=s(243),c=s(856),l=s(889),h=s(352),v=s(727),p=s(380),u=s(592),d=s(470),g=s(467),m=s.n(g);const z={name:"Map",props:["selectedCategory","entries","categories","isLandscape"],components:{"v-icondefault":c.Z,LPopup:l.Z,LMap:h.Z,LTileLayer:v.Z,LMarker:p.Z,LIcon:u.Z,LControlZoom:d.Z,"v-marker-cluster":m()},data:function(){return{options:{useEasing:!0,useGrouping:!0},selectedEntryID:null,zoom:6,minZoom:6,center:(0,r.latLng)(54.2274815,-4.8523105),url:"https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",url2:"https://stamen-tiles.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}.png",maxZoom:13,attribution:'Tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',mapOptions:{scrollWheelZoom:window.self==window.top,zoomSnap:.5,zoomControl:!1,zoomAnimationThreshold:8}}},computed:{categorisedEntries:function(){var t=this;return this.selectedCategory?[{key:this.selectedCategory,values:this.entries.filter((function(e){return e.category==t.selectedCategory}))}]:this.groupBy(this.entries,"category")}},mounted:function(){var t=this;this.$refs.map.mapObject.on("popupclose",(function(){return t.selectedEntryID=null}))},watch:{},methods:{resetMap:function(){this.$refs.map.mapObject.flyTo(this.center,this.minZoom)},getLatLng:function(t){return[parseFloat(t.latitude),parseFloat(t.longitude)]},groupBy:function(t,e){return t.reduce((function(t,s){var n=e instanceof Function?e(s):s[e],a=t.find((function(t){return t&&t.key===n}));return a?a.values.push(s):t.push({key:n,values:[s]}),t}),[])},getClusterOptions:function(t){var e=this;return{disableClusteringAtZoom:this.maxZoom,spiderLegPolylineOptions:{weight:6,color:this.categories[t].color,opacity:.75},iconCreateFunction:function(s){var n=s.getChildCount();return new r.divIcon({html:'<div class="relative"><span class="absolute block w-full h-5 mt-1.5 font-bold leading-relaxed text-center text-white">'.concat(n,'</span>\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 237.76 314.03">\n          <path\n            fill="#000000"\n            d="M120.03.02S2.45-2.75.03 122.02c-2 101.11 105.2 190.34 120 192 13.35 1.49 119.52-98 117.71-192.16C235.34-3.65 120.03.02 120.03.02z"\n          />\n          <circle\n            cx="118.88"\n            cy="121.86"\n            r="97.98"\n            fill="').concat(e.categories[t].color,'"\n          />\n        </svg></div>'),className:"",iconSize:new r.point(32,40),iconAnchor:new r.point(16,40)})}}}}};var M=s(900);const C=(0,M.Z)(z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("l-map",{ref:"map",attrs:{id:"map",zoom:t.zoom,center:t.center,options:t.mapOptions,minZoom:t.minZoom,maxZoom:t.maxZoom,inertia:!0,zoomAnimation:!0,noBlockingAnimations:!0},on:{"update:zoom":function(e){t.zoom=e}}},[s("div",{staticClass:"cursor-pointer fixed z-[9999] top-4 right-4 p-1 bg-gray-50 shadow rounded border-2 border-opacity-30 border-gray-900",attrs:{title:"Reset map view"},on:{click:t.resetMap}},[s("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("g",{attrs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),t._v(" "),s("line",{attrs:{x1:"22",y1:"12",x2:"18",y2:"12"}}),t._v(" "),s("line",{attrs:{x1:"6",y1:"12",x2:"2",y2:"12"}}),t._v(" "),s("line",{attrs:{x1:"12",y1:"6",x2:"12",y2:"2"}}),t._v(" "),s("line",{attrs:{x1:"12",y1:"22",x2:"12",y2:"18"}})])])]),t._v(" "),s("l-control-zoom",{attrs:{position:t.isLandscape?"bottomright":"topright"}}),t._v(" "),s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t.zoom>=10?s("l-tile-layer",{attrs:{url:t.url2,attribution:t.attribution}}):t._e(),t._v(" "),s("v-icondefault",{attrs:{"image-path":"/assets/images/"}}),t._v(" "),t._l(t.categorisedEntries,(function(e){return s("v-marker-cluster",{key:e.key,attrs:{options:t.getClusterOptions(e.key)}},t._l(e.values,(function(n){return s("l-marker",{key:n.id,ref:n.id,refInFor:!0,attrs:{"lat-lng":t.getLatLng(n)},on:{click:function(e){t.selectedEntryID=n.id},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.markerClicked(n.id)}}},[s("l-popup",{ref:"popup-"+n.id,refInFor:!0,staticClass:"flex flex-row overflow-hidden bg-white shadow-xl clip-path-2",attrs:{options:{maxWidth:430,minWidth:430,offset:[0,-20],closeButton:!1,className:""}}},[s("img",{staticClass:"flex-none object-cover object-center w-1/3 clip-path-3",attrs:{src:"/assets/images/"+t.categories[e.key].squareIcon}}),t._v(" "),s("div",{staticClass:"px-5 py-6"},[s("h3",{staticClass:"text-2xl font-bold leading-tight "},[t._v("\n            "+t._s(e.key)+"\n          ")]),t._v(" "),s("p",{staticClass:"!my-0 leading-tight text-2xl font-semibold text-gray-800"},[t._v("\n            "+t._s(t.categories[e.key].description)+"\n          ")]),t._v(" "),s("p",{staticClass:"pt-2 pb-4 text-xs text-gray-800 tracking-wide !my-0 uppercase"},[s("svg",{staticClass:"-mt-0.5 inline-block w-4 h-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50.9 55.9"}},[s("path",{attrs:{d:"M40.8 6.2c-8-8.2-21.1-8.4-29.3-.4l-.4.4c-3.9 4-6.1 9.4-6.1 15 0 8.4 7.8 19.5 14.5 29.1v.2l3 3.8c1.4 1.9 4.1 2.3 6 .9.3-.2.6-.5.9-.9l3-4c6.7-9.5 14.5-20.7 14.5-29 0-5.6-2.2-11-6.1-15.1z","fill-rule":"evenodd","clip-rule":"evenodd",fill:t.categories[e.key].color}}),t._v(" "),s("circle",{attrs:{cx:"25.6",cy:"19.9",r:"7.5","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#fff"}})]),t._v("\n            "+t._s(n.address.replace(", UK",""))+"\n          ")]),t._v(" "),s("p",{staticClass:"text-base !my-0 text-gray-500"},[t._v(t._s(n.description))])])]),t._v(" "),s("l-icon",{attrs:{iconAnchor:t.selectedEntryID==n.id?[30,82]:[16,40],popupAnchor:[0,-35],iconSize:t.selectedEntryID==n.id?[61,82]:[32,40]}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237.76 314.03"}},[s("path",{attrs:{fill:"#000000",d:"M120.03.02S2.45-2.75.03 122.02c-2 101.11 105.2 190.34 120 192 13.35 1.49 119.52-98 117.71-192.16C235.34-3.65 120.03.02 120.03.02z"}}),t._v(" "),s("circle",{attrs:{cx:"118.88",cy:"121.86",r:"95",fill:t.categories[e.key].color}})])])],1)})),1)}))],2)}),[],!1,null,null,null).exports;const f={name:"Legend",props:["selectedCategory","entries","siteData","isLandscape"],components:{},data:function(){return{selected:""}},computed:{},watch:{},methods:{}};const y={name:"Overview",props:[],components:{Legend:(0,M.Z)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fixed top-0 left-16 w-[22rem] z-[999] h-screen py-16"},[s("div",{staticClass:"max-h-full px-4 py-8 space-y-1 overflow-y-auto bg-white clip-path-1"},[s("h1",{staticClass:"mx-6 mb-4 text-2xl font-semibold leading-tight text-center text-hubbuborange",domProps:{innerHTML:t._s(t.siteData.strapline)}}),t._v(" "),t._l(t.siteData.categories,(function(e,n){return s("div",{key:e.circularIcon,staticClass:"flex flex-row items-center px-3 py-1 space-x-3 cursor-pointer hover:bg-gray-100 rounded-xl",class:t.selectedCategory==n?"bg-gray-100":"",on:{click:function(e){return t.$emit("clicked",t.selectedCategory==n?null:n)}}},[s("img",{staticClass:"flex-none w-14 h-14",attrs:{src:"/assets/images/"+e.circularIcon}}),t._v(" "),s("div",[s("h3",{staticClass:"font-bold leading-tight"},[t._v(t._s(n))]),t._v(" "),s("p",{staticClass:"leading-tight"},[t._v(t._s(e.description))])])])}))],2)])}),[],!1,null,null,null).exports,Map:C},data:function(){return{entries:[],errored:!1,entriesLoaded:!1,siteDataLoaded:!1,siteData:{},selectedCategory:null}},watch:{},methods:{isLandscape:function(){return document.documentElement.clientWidth>document.documentElement.clientHeight}},mounted:function(){var t=this;axios.get("/api/all.json").then((function(e){t.entries=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.entriesLoaded=!0})),axios.get("/api/site.json").then((function(e){t.siteData=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.siteDataLoaded=!0}))}};const w=(0,M.Z)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.entriesLoaded&&t.siteDataLoaded?s("div",{staticClass:"w-screen h-screen font-sans"},[s("svg",{staticClass:"w-0 h-0",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 688 1498.81"}},[s("defs",[s("clipPath",{attrs:{id:"clipPath1",clipPathUnits:"objectBoundingBox"}},[s("path",{attrs:{d:"M0.006,0.509 C0,0.467,0.003,0.426,0.004,0.384 Q0.007,0.297,0.008,0.209 C0.009,0.177,0.007,0.145,0.006,0.113 C0.006,0.099,0.004,0.086,0.004,0.073 C0.004,0.061,0.006,0.05,0.016,0.039 C0.034,0.02,0.065,0.007,0.11,0.002 C0.121,0.001,0.133,0.001,0.144,0.001 C0.275,0.001,0.405,0.002,0.536,0.002 C0.608,0.002,0.68,0.001,0.752,0 C0.791,0,0.83,0,0.868,0.001 A0.164,0.076,0,0,1,0.948,0.013 C0.983,0.023,0.997,0.038,0.999,0.056 C1,0.065,0.999,0.074,0.998,0.083 C0.993,0.166,0.995,0.249,0.996,0.332 C0.998,0.406,1,0.48,1,0.553 C1,0.608,0.999,0.662,0.999,0.716 C0.999,0.778,1,0.839,1,0.901 C1,0.92,1,0.938,0.991,0.956 C0.978,0.98,0.94,0.996,0.886,0.999 C0.858,1,0.829,1,0.8,1 C0.639,0.999,0.479,0.998,0.318,1 C0.253,1,0.188,1,0.124,0.999 C0.071,0.999,0.019,0.981,0.007,0.958 C0.004,0.953,0.004,0.947,0.004,0.942 C0.004,0.897,0.006,0.853,0.006,0.808 C0.006,0.775,0.002,0.742,0.002,0.709 C0.002,0.665,0.005,0.62,0.006,0.576 C0.006,0.553,0.006,0.531,0.006,0.509"}})]),t._v(" "),s("clipPath",{attrs:{id:"clipPath2",clipPathUnits:"objectBoundingBox"}},[s("path",{attrs:{d:"M0.488,0.992 C0.379,0.994,0.269,0.998,0.159,1 C0.138,1,0.117,1,0.096,0.993 C0.05,0.977,0.022,0.929,0.013,0.848 A0.469,0.807,0,0,1,0.005,0.714 C0.004,0.55,0.002,0.385,0.001,0.221 C0,0.114,0.054,0.014,0.116,0.006 C0.139,0.004,0.161,0.008,0.184,0.008 C0.262,0.009,0.34,0.01,0.418,0.008 C0.548,0.007,0.679,0.003,0.809,0.001 C0.839,0,0.869,0.002,0.897,0.018 A0.233,0.401,0,0,1,0.928,0.039 C0.964,0.07,0.985,0.118,0.988,0.188 C0.99,0.229,0.993,0.27,0.993,0.311 C0.992,0.397,0.996,0.482,0.998,0.567 C1,0.635,1,0.703,0.998,0.771 C0.991,0.873,0.957,0.942,0.902,0.979 C0.876,0.998,0.848,1,0.819,0.999 C0.719,0.99,0.618,0.99,0.518,0.992 C0.508,0.992,0.498,0.992,0.488,0.992 C0.488,0.993,0.488,0.991,0.488,0.992"}})]),t._v(" "),s("clipPath",{attrs:{id:"clipPath3",clipPathUnits:"objectBoundingBox"}},[s("path",{attrs:{d:"M0.995,0.998 C0.986,0.986,0.988,0.973,0.986,0.96 C0.986,0.949,0.986,0.938,0.986,0.927 C0.987,0.869,0.984,0.81,0.986,0.752 Q0.988,0.704,0.99,0.656 C0.988,0.614,0.991,0.571,0.986,0.528 C0.992,0.468,0.987,0.409,0.99,0.349 C0.991,0.329,0.993,0.309,0.993,0.289 C0.993,0.272,0.991,0.255,0.994,0.239 A0.044,0.026,0,0,0,0.996,0.228 C0.994,0.184,1,0.14,1,0.095 C0.999,0.087,1,0.079,1,0.071 C1,0.055,0.995,0.039,0.992,0.023 L0.985,0,0,0.001 L0.005,1"}})])])]),t._v(" "),s("Legend",{attrs:{siteData:t.siteData,selectedCategory:t.selectedCategory},on:{clicked:function(e){t.selectedCategory=e}}}),t._v(" "),s("Map",{staticClass:"font-sans",attrs:{isLandscape:t.isLandscape(),entries:t.entries,categories:t.siteData.categories,selectedCategory:t.selectedCategory}}),t._v(" "),s("div",{staticClass:"fixed text-center tracking-wide text-gray-700 text-sm transform -translate-x-1/2 bottom-4 left-1/2 z-[9999]"},[s("a",{staticClass:"uppercase",attrs:{target:"_blank",href:"https://www.hubbub.org.uk/"}},[s("svg",{staticClass:"block w-64 h-auto mb-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"31 183 350 68"}},[s("path",{attrs:{fill:"#000",d:"M95.5 183h-1.4v31.9h1.4V183zM94.1 234c0 2.4.6 4.7 1.4 6.8v-21.7h-1.4V234zM128.6 183h-1.4v31.9h1.4V183zM127.1 240.8c.9-2.1 1.4-4.4 1.4-6.8v-14.9h-1.4v21.7zM109.7 183h-1.4v31.9h1.4V183zM108.3 250.7v.3h1.4v-31.9h-1.4v31.6zM103.6 249.2c.4.3 1 .4 1.4.7v-30.7h-1.4v30zM105 183h-1.4v31.9h1.4V183zM100.3 183h-1.4v31.9h1.4V183zM98.8 245.8c.4.4.9 1 1.4 1.4v-28.1h-1.4v26.7zM114.5 183H113v31.9h1.4V183h.1zM113 251h1.4v-31.9H113V251zM119.1 183h-1.4v31.9h1.4V183zM117.6 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM122.4 247c.6-.4 1-.8 1.4-1.4v-26.5h-1.4V247zM123.8 183h-1.4v31.9h1.4V183zM32.4 183H31v31.9h1.4V183zM32.4 219.1H31v31.7h1.4v-31.7zM65.5 219.1H64v31.7h1.4l.1-31.7zM65.5 183H64v31.9h1.4l.1-31.9zM46.7 183h-1.4v31.9h1.4V183zM46.7 219.1h-1.4v31.7h1.4v-31.7zM41.9 219.1h-1.4v31.7h1.4v-31.7zM41.9 183h-1.4v31.9h1.4V183zM37.2 219.1h-1.4v31.7h1.4v-31.7zM37.2 183h-1.4v31.9h1.4V183zM51.3 219.1h-1.4v31.7h1.4v-31.7zM51.3 183h-1.4v31.9h1.4V183zM56 219.1h-1.4v31.7H56v-31.7zM56 183h-1.4v31.9H56V183zM60.7 183h-1.4v31.9h1.4V183zM60.7 219.1h-1.4v31.7h1.4v-31.7zM158.6 219.1h-1.4v31.7h1.4v-31.7zM158.6 183h-1.4v31.9h1.4V183zM190.2 193.2v13.6c.9-2.1 1.4-4.4 1.4-6.8s-.4-4.7-1.4-6.8zM190.2 240.8c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8v13.6zM171.4 250.7v.3h1.4v-31.9h-1.4v31.6zM172.8 183.1v-.1h-1.4v31.9h1.4v-31.8zM168.1 183h-1.4v31.9h1.4V183zM168.1 219.1h-1.4v31.7h1.4v-31.7zM163.3 219.1h-1.4v31.7h1.4v-31.7zM163.3 183h-1.4v31.9h1.4V183zM177.6 183.3v-.3h-1.4v31.8h1.4v-31.5zM176.1 251h1.4v-31.9h-1.4V251zM182.3 184.8c-.4-.3-1-.4-1.4-.7v30.6h1.4v-29.9zM180.9 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM187 188.4c-.4-.4-.9-1-1.4-1.4v26c.6-.4 1-.9 1.4-1.4v-23.2zM185.6 247c.6-.4 1-.8 1.4-1.4v-23.2c-.4-.4-.9-1-1.4-1.4v26zM283.4 234c0 2.4.6 4.7 1.4 6.8v-21.7h-1.4V234zM284.9 183h-1.4v31.9h1.4V183zM317.9 183h-1.4v31.9h1.4V183zM316.5 240.8c.9-2.1 1.4-4.4 1.4-6.8v-14.9h-1.4v21.7zM299 183h-1.4v31.9h1.4V183zM297.5 250.7v.3h1.4v-31.9h-1.4v31.6zM294.4 183H293v31.9h1.4V183zM292.9 249.2c.4.3 1 .4 1.4.7v-30.7h-1.4v30zM289.6 183h-1.4v31.9h1.4V183zM288.2 245.8c.4.4.9 1 1.4 1.4v-28.1h-1.4v26.7zM302.3 251h1.4v-31.9h-1.4V251zM303.7 183h-1.4v31.9h1.4V183zM308.4 183H307v31.9h1.4V183zM307 249.9c.4-.1 1-.4 1.4-.7v-30H307v30.7zM313.2 183h-1.4v31.9h1.4V183zM311.7 247c.6-.4 1-.8 1.4-1.4v-26.5h-1.4V247zM348 183h-1.4v31.9h1.4V183zM348 219.1h-1.4v31.7h1.4v-31.7zM379.6 193.2v13.6c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8zM379.6 240.8c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8v13.6zM362.2 183.1v-.1h-1.4v31.9h1.4v-31.8zM360.7 250.7v.3h1.4v-31.9h-1.4v31.6zM357.4 183H356v31.9h1.4V183zM357.4 219.1H356v31.7h1.4v-31.7zM352.7 219.1h-1.4v31.7h1.4v-31.7zM352.7 183h-1.4v31.9h1.4V183zM366.8 183.3v-.3h-1.4v31.8h1.4v-31.5zM365.3 251h1.4v-31.9h-1.4V251zM371.5 184.8c-.4-.3-1-.4-1.4-.7v30.6h1.4v-29.9zM370.1 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM376.3 188.4c-.4-.4-.9-1-1.4-1.4v26c.6-.4 1-.9 1.4-1.4v-23.2zM374.8 247c.6-.4 1-.8 1.4-1.4v-23.2c-.4-.4-.9-1-1.4-1.4v26zM221.8 183h-1.4v31.9h1.4V183zM221.8 219.1h-1.4v31.7h1.4v-31.7zM253.4 193.2v13.6c.9-2.1 1.4-4.4 1.4-6.8s-.5-4.7-1.4-6.8zM253.4 240.8c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8v13.6zM234.4 250.7v.3h1.4v-31.9h-1.4v31.6zM235.9 183.1v-.1h-1.4v31.9h1.4v-31.8zM231.1 219.1h-1.4v31.7h1.4v-31.7zM231.1 183h-1.4v31.9h1.4V183zM226.4 183H225v31.9h1.4V183zM226.4 219.1H225v31.7h1.4v-31.7zM239.2 251h1.4v-31.9h-1.4V251zM240.6 183.3v-.3h-1.4v31.8h1.4v-31.5zM245.4 184.8c-.4-.3-1-.4-1.4-.7v30.6h1.4v-29.9zM243.9 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM250.1 188.4c-.4-.4-.9-1-1.4-1.4v26c.6-.4 1-.9 1.4-1.4v-23.2zM248.7 247c.6-.4 1-.8 1.4-1.4v-23.2c-.4-.4-.9-1-1.4-1.4v26z"}})]),t._v(" "),s("p",[t._v("www.hubbub.org.uk")])])])],1):t._e()}),[],!1,null,null,null).exports;const x={};const _=(0,M.Z)(x,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v("(404) Page NotFound")])])}],!1,null,null,null).exports;a().use(o.Z),window.axios=s(669);var b=[{path:"/",component:w,name:"app"},{path:"*",component:_}],k=new o.Z({routes:b});a().use(i.ZP,{config:{id:"G-7PPC9H61Y7"}},k);new(a())({router:k}).$mount("#app")},872:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[57,543],(()=>(e(131),e(872))));t.O()}]);
//# sourceMappingURL=main.js.map