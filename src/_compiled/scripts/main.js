"use strict";(self.webpackChunkhidinginplainsight=self.webpackChunkhidinginplainsight||[]).push([[654],{685:(t,e,n)=>{var s=n(94),o=n.n(s),a=n(345),i=n(398),r=n(243),c=n(856),l=n(889),v=n(352),h=n(727),u=n(380),d=n(592),p=n(470),z=n(467),m=n.n(z);const g={name:"Map",props:["selectedCategory","entries","categories","isLandscape"],components:{"v-icondefault":c.Z,LPopup:l.Z,LMap:v.Z,LTileLayer:h.Z,LMarker:u.Z,LIcon:d.Z,LControlZoom:p.Z,"v-marker-cluster":m()},data:function(){return{options:{useEasing:!0,useGrouping:!0},selectedEntryID:null,zoom:6,minZoom:6,center:(0,r.latLng)(54.2274815,-4.8523105),url:"https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",url2:"https://stamen-tiles.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}.png",maxZoom:13,attribution:'Tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',mapOptions:{scrollWheelZoom:window.self==window.top,zoomSnap:.5,zoomControl:!1,zoomAnimationThreshold:8}}},computed:{categorisedEntries:function(){var t=this;return this.selectedCategory?[{key:this.selectedCategory,values:this.entries.filter((function(e){return e.category==t.selectedCategory}))}]:this.groupBy(this.entries,"category")}},mounted:function(){var t=this;this.$refs.map.mapObject.on("popupclose",(function(){return t.selectedEntryID=null}))},watch:{},methods:{getLatLng:function(t){return[parseFloat(t.latitude),parseFloat(t.longitude)]},groupBy:function(t,e){return t.reduce((function(t,n){var s=e instanceof Function?e(n):n[e],o=t.find((function(t){return t&&t.key===s}));return o?o.values.push(n):t.push({key:s,values:[n]}),t}),[])},getClusterOptions:function(t){var e=this;return{disableClusteringAtZoom:this.maxZoom,spiderLegPolylineOptions:{weight:6,color:this.categories[t].color,opacity:.75},iconCreateFunction:function(n){var s=n.getChildCount();return new r.divIcon({html:'<div class="relative"><span class="absolute block w-full h-5 mt-1.5 font-bold leading-relaxed text-center text-white">'.concat(s,'</span>\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 237.76 314.03">\n          <path\n            fill="#000000"\n            d="M120.03.02S2.45-2.75.03 122.02c-2 101.11 105.2 190.34 120 192 13.35 1.49 119.52-98 117.71-192.16C235.34-3.65 120.03.02 120.03.02z"\n          />\n          <circle\n            cx="118.88"\n            cy="121.86"\n            r="97.98"\n            fill="').concat(e.categories[t].color,'"\n          />\n        </svg></div>'),className:"",iconSize:new r.point(28,40),iconAnchor:new r.point(14,40)})}}}}};var M=n(900);const f=(0,M.Z)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("l-map",{ref:"map",attrs:{id:"map",zoom:t.zoom,center:t.center,options:t.mapOptions,minZoom:t.minZoom,maxZoom:t.maxZoom,inertia:!0,zoomAnimation:!0,noBlockingAnimations:!0},on:{"update:zoom":function(e){t.zoom=e}}},[n("l-control-zoom",{attrs:{position:t.isLandscape?"bottomright":"topright"}}),t._v(" "),n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t.zoom>=10?n("l-tile-layer",{attrs:{url:t.url2,attribution:t.attribution}}):t._e(),t._v(" "),n("v-icondefault",{attrs:{"image-path":"/assets/images/"}}),t._v(" "),t._l(t.categorisedEntries,(function(e){return n("v-marker-cluster",{key:e.key,attrs:{options:t.getClusterOptions(e.key)}},t._l(e.values,(function(s){return n("l-marker",{key:s.id,ref:s.id,refInFor:!0,attrs:{"lat-lng":t.getLatLng(s)},on:{click:function(e){t.selectedEntryID=s.id},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.markerClicked(s.id)}}},[n("l-popup",{ref:"popup-"+s.id,refInFor:!0,staticClass:"flex flex-row overflow-hidden bg-white shadow-xl rounded-3xl",attrs:{options:{maxWidth:400,minWidth:400,offset:[0,-20],closeButton:!1,className:""}}},[n("img",{staticClass:"flex-none object-cover object-center w-1/3",attrs:{src:"/assets/images/"+t.categories[e.key].squareIcon}}),t._v(" "),n("div",{staticClass:"px-5 py-6"},[n("h3",{staticClass:"text-2xl font-bold leading-tight "},[t._v("\n            "+t._s(e.key)+"\n          ")]),t._v(" "),n("p",{staticClass:"!my-0 leading-tight text-2xl font-semibold text-gray-800"},[t._v("\n            "+t._s(t.categories[e.key].description)+"\n          ")]),t._v(" "),n("p",{staticClass:"pt-2 pb-4 text-xs text-gray-800 tracking-wide !my-0 uppercase"},[n("svg",{staticClass:"-mt-0.5 inline-block w-4 h-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50.9 55.9"}},[n("path",{attrs:{d:"M40.8 6.2c-8-8.2-21.1-8.4-29.3-.4l-.4.4c-3.9 4-6.1 9.4-6.1 15 0 8.4 7.8 19.5 14.5 29.1v.2l3 3.8c1.4 1.9 4.1 2.3 6 .9.3-.2.6-.5.9-.9l3-4c6.7-9.5 14.5-20.7 14.5-29 0-5.6-2.2-11-6.1-15.1z","fill-rule":"evenodd","clip-rule":"evenodd",fill:t.categories[e.key].color}}),t._v(" "),n("circle",{attrs:{cx:"25.6",cy:"19.9",r:"7.5","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#fff"}})]),t._v("\n            "+t._s(s.address.replace(", UK",""))+"\n          ")]),t._v(" "),n("p",{staticClass:"text-base !my-0 text-gray-500"},[t._v(t._s(s.description))])])]),t._v(" "),n("l-icon",{attrs:{iconAnchor:t.selectedEntryID==s.id?[30,82]:[16,40],popupAnchor:[0,-35],iconSize:t.selectedEntryID==s.id?[61,82]:[32,40]}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237.76 314.03"}},[n("path",{attrs:{fill:"#000000",d:"M120.03.02S2.45-2.75.03 122.02c-2 101.11 105.2 190.34 120 192 13.35 1.49 119.52-98 117.71-192.16C235.34-3.65 120.03.02 120.03.02z"}}),t._v(" "),n("circle",{attrs:{cx:"118.88",cy:"121.86",r:"95",fill:t.categories[e.key].color}})])])],1)})),1)}))],2)}),[],!1,null,null,null).exports;const y={name:"Legend",props:["selectedCategory","entries","siteData","isLandscape"],components:{},data:function(){return{selected:""}},computed:{},watch:{},methods:{}};const w={name:"Overview",props:[],components:{Legend:(0,M.Z)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fixed top-0 left-16 w-[22rem] z-[999] h-screen py-16"},[n("div",{staticClass:"max-h-full px-4 py-8 space-y-1 overflow-y-auto bg-white shadow-2xl rounded-3xl"},[n("h1",{staticClass:"mx-6 mb-4 text-2xl font-semibold leading-tight text-center text-hubbuborange",domProps:{innerHTML:t._s(t.siteData.strapline)}}),t._v(" "),t._l(t.siteData.categories,(function(e,s){return n("div",{key:e.circularIcon,staticClass:"flex flex-row items-center px-2 py-1 space-x-3 cursor-pointer hover:bg-gray-100 rounded-xl",class:t.selectedCategory==s?"bg-gray-100":"",on:{click:function(e){return t.$emit("clicked",t.selectedCategory==s?null:s)}}},[n("img",{staticClass:"flex-none w-14 h-14",attrs:{src:"/assets/images/"+e.circularIcon}}),t._v(" "),n("div",[n("h3",{staticClass:"font-bold leading-tight"},[t._v(t._s(s))]),t._v(" "),n("p",{staticClass:"leading-tight"},[t._v(t._s(e.description))])])])}))],2)])}),[],!1,null,null,null).exports,Map:f},data:function(){return{entries:[],errored:!1,entriesLoaded:!1,siteDataLoaded:!1,siteData:{},selectedCategory:null}},watch:{},methods:{isLandscape:function(){return document.documentElement.clientWidth>document.documentElement.clientHeight}},mounted:function(){var t=this;axios.get("/api/all.json").then((function(e){t.entries=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.entriesLoaded=!0})),axios.get("/api/site.json").then((function(e){t.siteData=e.data})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.siteDataLoaded=!0}))}};const x=(0,M.Z)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.entriesLoaded&&t.siteDataLoaded?n("div",{staticClass:"w-screen h-screen font-sans"},[n("Legend",{attrs:{siteData:t.siteData,selectedCategory:t.selectedCategory},on:{clicked:function(e){t.selectedCategory=e}}}),t._v(" "),n("Map",{staticClass:"font-sans",attrs:{isLandscape:t.isLandscape(),entries:t.entries,categories:t.siteData.categories,selectedCategory:t.selectedCategory}}),t._v(" "),n("div",{staticClass:"fixed text-center tracking-wide text-sm transform -translate-x-1/2 bottom-4 left-1/2 z-[9999]"},[n("a",{staticClass:"uppercase",attrs:{target:"_blank",href:"https://www.hubbub.org.uk/"}},[n("svg",{staticClass:"block w-64 h-auto mb-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"31 183 350 68"}},[n("path",{attrs:{fill:"#000",d:"M95.5 183h-1.4v31.9h1.4V183zM94.1 234c0 2.4.6 4.7 1.4 6.8v-21.7h-1.4V234zM128.6 183h-1.4v31.9h1.4V183zM127.1 240.8c.9-2.1 1.4-4.4 1.4-6.8v-14.9h-1.4v21.7zM109.7 183h-1.4v31.9h1.4V183zM108.3 250.7v.3h1.4v-31.9h-1.4v31.6zM103.6 249.2c.4.3 1 .4 1.4.7v-30.7h-1.4v30zM105 183h-1.4v31.9h1.4V183zM100.3 183h-1.4v31.9h1.4V183zM98.8 245.8c.4.4.9 1 1.4 1.4v-28.1h-1.4v26.7zM114.5 183H113v31.9h1.4V183h.1zM113 251h1.4v-31.9H113V251zM119.1 183h-1.4v31.9h1.4V183zM117.6 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM122.4 247c.6-.4 1-.8 1.4-1.4v-26.5h-1.4V247zM123.8 183h-1.4v31.9h1.4V183zM32.4 183H31v31.9h1.4V183zM32.4 219.1H31v31.7h1.4v-31.7zM65.5 219.1H64v31.7h1.4l.1-31.7zM65.5 183H64v31.9h1.4l.1-31.9zM46.7 183h-1.4v31.9h1.4V183zM46.7 219.1h-1.4v31.7h1.4v-31.7zM41.9 219.1h-1.4v31.7h1.4v-31.7zM41.9 183h-1.4v31.9h1.4V183zM37.2 219.1h-1.4v31.7h1.4v-31.7zM37.2 183h-1.4v31.9h1.4V183zM51.3 219.1h-1.4v31.7h1.4v-31.7zM51.3 183h-1.4v31.9h1.4V183zM56 219.1h-1.4v31.7H56v-31.7zM56 183h-1.4v31.9H56V183zM60.7 183h-1.4v31.9h1.4V183zM60.7 219.1h-1.4v31.7h1.4v-31.7zM158.6 219.1h-1.4v31.7h1.4v-31.7zM158.6 183h-1.4v31.9h1.4V183zM190.2 193.2v13.6c.9-2.1 1.4-4.4 1.4-6.8s-.4-4.7-1.4-6.8zM190.2 240.8c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8v13.6zM171.4 250.7v.3h1.4v-31.9h-1.4v31.6zM172.8 183.1v-.1h-1.4v31.9h1.4v-31.8zM168.1 183h-1.4v31.9h1.4V183zM168.1 219.1h-1.4v31.7h1.4v-31.7zM163.3 219.1h-1.4v31.7h1.4v-31.7zM163.3 183h-1.4v31.9h1.4V183zM177.6 183.3v-.3h-1.4v31.8h1.4v-31.5zM176.1 251h1.4v-31.9h-1.4V251zM182.3 184.8c-.4-.3-1-.4-1.4-.7v30.6h1.4v-29.9zM180.9 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM187 188.4c-.4-.4-.9-1-1.4-1.4v26c.6-.4 1-.9 1.4-1.4v-23.2zM185.6 247c.6-.4 1-.8 1.4-1.4v-23.2c-.4-.4-.9-1-1.4-1.4v26zM283.4 234c0 2.4.6 4.7 1.4 6.8v-21.7h-1.4V234zM284.9 183h-1.4v31.9h1.4V183zM317.9 183h-1.4v31.9h1.4V183zM316.5 240.8c.9-2.1 1.4-4.4 1.4-6.8v-14.9h-1.4v21.7zM299 183h-1.4v31.9h1.4V183zM297.5 250.7v.3h1.4v-31.9h-1.4v31.6zM294.4 183H293v31.9h1.4V183zM292.9 249.2c.4.3 1 .4 1.4.7v-30.7h-1.4v30zM289.6 183h-1.4v31.9h1.4V183zM288.2 245.8c.4.4.9 1 1.4 1.4v-28.1h-1.4v26.7zM302.3 251h1.4v-31.9h-1.4V251zM303.7 183h-1.4v31.9h1.4V183zM308.4 183H307v31.9h1.4V183zM307 249.9c.4-.1 1-.4 1.4-.7v-30H307v30.7zM313.2 183h-1.4v31.9h1.4V183zM311.7 247c.6-.4 1-.8 1.4-1.4v-26.5h-1.4V247zM348 183h-1.4v31.9h1.4V183zM348 219.1h-1.4v31.7h1.4v-31.7zM379.6 193.2v13.6c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8zM379.6 240.8c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8v13.6zM362.2 183.1v-.1h-1.4v31.9h1.4v-31.8zM360.7 250.7v.3h1.4v-31.9h-1.4v31.6zM357.4 183H356v31.9h1.4V183zM357.4 219.1H356v31.7h1.4v-31.7zM352.7 219.1h-1.4v31.7h1.4v-31.7zM352.7 183h-1.4v31.9h1.4V183zM366.8 183.3v-.3h-1.4v31.8h1.4v-31.5zM365.3 251h1.4v-31.9h-1.4V251zM371.5 184.8c-.4-.3-1-.4-1.4-.7v30.6h1.4v-29.9zM370.1 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM376.3 188.4c-.4-.4-.9-1-1.4-1.4v26c.6-.4 1-.9 1.4-1.4v-23.2zM374.8 247c.6-.4 1-.8 1.4-1.4v-23.2c-.4-.4-.9-1-1.4-1.4v26zM221.8 183h-1.4v31.9h1.4V183zM221.8 219.1h-1.4v31.7h1.4v-31.7zM253.4 193.2v13.6c.9-2.1 1.4-4.4 1.4-6.8s-.5-4.7-1.4-6.8zM253.4 240.8c.9-2.1 1.4-4.4 1.4-6.8s-.6-4.7-1.4-6.8v13.6zM234.4 250.7v.3h1.4v-31.9h-1.4v31.6zM235.9 183.1v-.1h-1.4v31.9h1.4v-31.8zM231.1 219.1h-1.4v31.7h1.4v-31.7zM231.1 183h-1.4v31.9h1.4V183zM226.4 183H225v31.9h1.4V183zM226.4 219.1H225v31.7h1.4v-31.7zM239.2 251h1.4v-31.9h-1.4V251zM240.6 183.3v-.3h-1.4v31.8h1.4v-31.5zM245.4 184.8c-.4-.3-1-.4-1.4-.7v30.6h1.4v-29.9zM243.9 249.9c.4-.1 1-.4 1.4-.7v-30h-1.4v30.7zM250.1 188.4c-.4-.4-.9-1-1.4-1.4v26c.6-.4 1-.9 1.4-1.4v-23.2zM248.7 247c.6-.4 1-.8 1.4-1.4v-23.2c-.4-.4-.9-1-1.4-1.4v26z"}})]),t._v(" "),n("p",[t._v("www.hubbub.org.uk")])])])],1):t._e()}),[],!1,null,null,null).exports;const C={};const _=(0,M.Z)(C,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v("(404) Page NotFound")])])}],!1,null,null,null).exports;o().use(a.Z),window.axios=n(669);var b=[{path:"/",component:x,name:"app"},{path:"*",component:_}],k=new a.Z({routes:b});o().use(i.ZP,{config:{id:"G-7PPC9H61Y7"}},k);new(o())({router:k}).$mount("#app")},872:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[57,543],(()=>(e(685),e(872))));t.O()}]);
//# sourceMappingURL=main.js.map